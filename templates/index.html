<!doctype html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tesla Dashboard</title>
    <script src="/static/js/jquery.min.js"></script>
    <link rel="stylesheet" href="/static/css/leaflet.css" />
    <link rel="stylesheet" href="/static/css/style.css" />
    <script src="/static/js/leaflet.js"></script>
    <script src="/static/js/leaflet.rotatedMarker.js"></script>
</head>
<body>
    <h1>Tesla Dashboard <span id="vehicle-status"></span>&nbsp;&nbsp;&nbsp;<span id="vehicle-info"></span></h1>
    <label for="vehicle-select">Fahrzeug auswählen:</label>
    <select id="vehicle-select"></select>
    <div id="map" style="height: 400px; margin-top: 10px;"></div>
    <div id="status-bar">
        <div id="lock-container">
            <div id="lock-status" title="Verriegelt">🔒</div>
            <div id="user-presence" title="Niemand im Fahrzeug"></div>
        </div>
        <div id="gear-shift">
            <div data-gear="P">P</div>
            <div data-gear="R">R</div>
            <div data-gear="N">N</div>
            <div data-gear="D">D</div>
        </div>
        <div id="battery-indicator"></div>
            <div id="speedometer">
                <svg width="120" height="60" viewBox="0 0 120 60">
                    <path d="M10,50 A50,50 0 0,1 110,50" stroke="#ccc" stroke-width="8" fill="none"/>
                    <line id="speedometer-needle" x1="60" y1="50" x2="60" y2="15" stroke="#d00" stroke-width="3" transform="rotate(-90 60 50)" />
                </svg>
                <div id="speed-value">0 km/h</div>
                <div id="power-value" class="power">0 kW</div>
                <div id="odometer-value" class="odometer">0.0</div>
            </div>
        <div id="thermometers">
            <div class="thermometer">
                <svg width="30" height="60" viewBox="0 0 30 60">
                    <rect x="13" y="5" width="4" height="40" class="tube" />
                    <rect id="inside-level" x="13" y="45" width="4" height="0" class="level" />
                    <circle id="inside-bulb" cx="15" cy="50" r="7" class="bulb" />
                </svg>
                <div id="inside-temp-value" class="label">Innen: -- °C</div>
            </div>
            <div class="thermometer">
                <svg width="30" height="60" viewBox="0 0 30 60">
                    <rect x="13" y="5" width="4" height="40" class="tube" />
                    <rect id="outside-level" x="13" y="45" width="4" height="0" class="level" />
                    <circle id="outside-bulb" cx="15" cy="50" r="7" class="bulb" />
                </svg>
                <div id="outside-temp-value" class="label">Außen: -- °C</div>
            </div>
        </div>
        <div id="climate-indicator">
            <div id="climate-status" title="Klimaanlage aus">🚫</div>
            <div id="climate-mode" title=""></div>
            <div id="cabin-protection" title=""></div>
            <div id="fan-status" title="Lüfterstufe">🌀 0</div>
            <div id="desired-temp" title="Wunschtemperatur">🌡️ -- °C</div>
        </div>
        <div id="tpms-indicator">
            <div class="tpms-row">
                <div id="tpms-VL" class="tpms-tire" title="Vorne links">--</div>
                <div id="tpms-VR" class="tpms-tire" title="Vorne rechts">--</div>
            </div>
            <div class="tpms-row">
                <div id="tpms-HL" class="tpms-tire" title="Hinten links">--</div>
                <div id="tpms-HR" class="tpms-tire" title="Hinten rechts">--</div>
            </div>
        </div>
    </div>
    <div id="nav-bar"></div>
    <div id="media-player"></div>

    <footer class="app-version">
        <span>Tesla-Dashboard Version {{ version }} - © {{ year }} Erik Schauer, do1ffe@darc.de</span>
        <span id="data-age"></span>
    </footer>

    <script>
        window.APP_VERSION = "{{ version }}";
    </script>
    <script src="/static/js/main.js"></script>
</body>
</html>
